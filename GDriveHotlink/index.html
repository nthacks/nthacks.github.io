<html>
<head>
	<title>Google Drive Hotlink Generator</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
	<div class="container">
		<form action="javascript:void(0);" onsubmit="getID()">
			<div class="form-group">
			<hr>
			<label for="link">Enter your Google Drive share link here</label>
			<input class="form-control input-sm js-url-field" type="text" id="link" onclick="select()" onchange="getID()"/>
			<br>
			<div id="invalidLink" class="alert alert-warning" style="display:none">
				<strong>Invalid link!</strong> Please enter a valid link containing id
			</div>
			<button type="submit" class="btn btn-success">Submit</button>
			<button type="reset" class="btn btn-danger">Reset</button>
			<br><br>
			<hr>
			<label for="hotlink">Your direct link is</label>
			<input class="form-control input-sm js-url-field" type="text" onclick="select()" id="hotlink"/><br>
			<div id="validLink" class="alert alert-success" style="display:none">
				<strong>Success!</strong> Copied link to clipboard
			</div>
			<button style="display:none;" id="copyButton" class="btn btn-info" onclick="copyLink()">Copy to Clipboard</button>
			<hr>
			</div>
		</form>
	</div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" ></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
	document.getElementById("link").select();
	function getID()
	{
		try
		{
			id=document.getElementById("link").value.match(/[?&]id=([^&/\s]+)/)[1];
			$("#invalidLink").fadeOut(500);
			//document.getElementById("invalidLink").style.display="none";
			document.getElementById("hotlink").value="https://drive.google.com/uc?export=download&id="+id;
			document.getElementById("hotlink").select();
			$("#copyButton").fadeIn();
			document.execCommand("Copy");
			$("#validLink").fadeIn(500);
			//document.getElementById("validLink").style.display="block";
		}
		catch(e)
		{
			console.log(e);
			$("#invalidLink").fadeIn(500);
			//document.getElementById("invalidLink").style.display="block";
		}
	}
	function copyLink()
	{
		document.getElementById("hotlink").select();
		document.execCommand("Copy");
		$("#validLink").fadeIn(500);
		//document.getElementById("validLink").style.display="block";
	}
</script>
</body>
</html>
<!--
https://drive.google.com/open?id=1DA_sA6q9rBXCAKqhyYsYiWGZmW2ktQxc
https://drive.google.com/uc?export=download&id=1DA_sA6q9rBXCAKqhyYsYiWGZmW2ktQxc
-->